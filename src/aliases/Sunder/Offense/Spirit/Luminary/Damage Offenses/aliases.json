[
       {
              "name": "mana drain",
              "isActive": "yes",
              "regex": "^mana$",
              "script": "",
              "isFolder": "no"
       },
       {
              "name": "Group Impale/Tfix",
              "isActive": "yes",
              "regex": "^git$",
              "script": "--This is for quick kills with sensitivity/transfix/impale/overwhelm/disembowel.\n--May have tougher time on hardier opponents.\n--May vary in usefulness depending on damage output.\nif snd.class == \"Luminary\" then\n  snd.giving_shield = {\"paresis\", \"weariness\", \"sight\", \"asthma\"}\n  snd.giving_battle = {\"impatience\", \"sensitivity\", \"self_pity\", \"stupidity\", \"vertigo\"}\n  snd.giving_chasten =\n    {\n      \"hypochondria\",\n      \"self_loathing\",\n      \"recklessness\",\n      \"stupidity\",\n      \"lethargy\",\n      \"justice\",\n      \"dementia\",\n      \"paranoia\",\n      \"anorexia\",\n    }\n  snd.starting_attack()\n\n  function snd.attack_function()\n    local total_aff_count = snd.aff_count_all()\n    local mental_aff_count = snd.aff_count_mental()\n  \n local string = \"contemplate \"..snd.target..snd.sep\n \tif not string.find(gmcp.Char.Vitals.wield_right, \"mace\") then string = string..\"quickwield right mace\"..snd.sep end\n\tif not string.find(gmcp.Char.Vitals.wield_left, \"buckler\") then string = string..\"quickwield left buckler\"..snd.sep end\n\n    local shield = \"none\"\n    local battle = \"none\"\n    local chasten = \"none\"\n    --Absolve check\n    if snd.mana_percent \u003c 40 and not snd.used.shield then\n      string = \"angel absolve \" .. snd.target\n      --They've hit our aff count limit, let's lock them down/kill them.\n    elseif total_aff_count \u003e= 4 and snd.checkAff(\"sight\") and not snd.used.shield then\n      if not snd.checkAff(\"writhe_transfix\") then\n        string = \"evoke transfixion \" .. snd.target\n      else\n        string = \"shield overwhelm \" .. snd.target\n        if snd.checkAff(\"hearing\") and not snd.checkAff(\"sensitivity\") then\n          string = \"angel battle \" .. snd.target .. \" sensitivity\" .. snd.sep .. string\n        end\n      end\n      --Need to pile a few affs on still. Aiming for at least 4 before overwhelm so by the time\n      --we get to overwhelm, they're in the overwhelm aff/damage scaling range.\t\n    else\n      if snd.balance.battle then\n        for i in pairs(snd.giving_battle) do\n          if not snd.checkAff(snd.giving_battle[i]) and battle == \"none\" then\n            battle = snd.giving_battle[i]\n          end\n        end\n      end\n      if snd.used.shield then\n        shield = \"shield raze\"\n      else\n        for i in pairs(snd.giving_shield) do\n          if not snd.checkAff(snd.giving_shield[i]) and shield == \"none\" then\n            shield = snd.spirituality_attacks[snd.giving_shield[i]]\n          end\n        end\n      end\n      if shield == \"none\" then\n        shield = \"shield strike\"\n      end\n      if snd.used.rebounding and shield ~= \"facesmash\" then\n        shield = \"shield raze\"\n      end\n      --Chasten aff pick\n      for i in pairs(snd.giving_chasten) do\n        if\n          not snd.checkAff(snd.giving_chasten[i]) and\n          chasten == \"none\" and\n          snd.giving_chasten[i] ~= battle\n        then\n          chasten = snd.giving_chasten[i]\n        end\n      end\n      --Start building our attack - battle first\n      if battle ~= \"none\" then\n        if snd.toggles.affcalling and not snd.target_gone then\n          string = \"wt Battle \" .. snd.target .. \": \" .. battle .. snd.sep\n        end\n        string = string .. \"angel battle \" .. battle .. \" \" .. snd.target .. snd.sep\n      end\n      --Add shield/evoke/perform attacks\n      string = string .. shield .. \" \" .. snd.target .. snd.sep\n      --Add chasten choice\n      if shield ~= \"slam\" then\n        if chasten == \"none\" then\n          string = string .. \"chasten \" .. snd.target\n        else\n          if snd.toggles.affcalling and not snd.target_gone then\n            string = string .. \"wt Chasten \" .. snd.target .. \": \" .. chasten .. snd.sep\n          end\n          string = string .. \"chasten \" .. snd.target .. \" \" .. chasten\n        end\n      end\n    end\n    --Are we gonna smack them with overwhelm? Let's make it hurt.\n    if string.find(string, \"overwhelm\") and not string.find(gmcp.Char.Vitals.wield_left, \"tower\") then\n      string = \"quickwield left tower\"..string..snd.sep\n    end\n\n    if string ~= snd.last_attack and not snd.waiting.queue then\n      snd.last_attack = string\n      snd.attack(snd.last_attack)\n      snd.waiting.queue = true\n      tempTimer(snd.delay(), [[snd.waiting.queue = false]])\n    end\n  end\n\n  snd.attack_function()\nend",
              "isFolder": "no"
       },
       {
              "name": "Lumi damage",
              "isActive": "yes",
              "regex": "^dmg$",
              "script": "",
              "isFolder": "no"
       }
]